---
- name: collection_test
  hosts: localhost

  tasks:
    - name: Run date command
      command: date
      register: curdate

    - name: Debug curdate
      debug:
        var: curdate

          #    # Gather info for selected units with extra properties.
          #    - name: Gather info for selected unit(s)
          #      community.general.systemd_info:
          #        unitname:
          #          - k3s.service
          #        extra_properties:
          #          - Description
          #      register: systemd_results
          #      become: yes

    - name: Example playbook sending mail to root
      community.general.mail:
        host: localhost
        port: 25
        to: jtdudman
        subject: System {{ ansible_hostname }} mail test.
        body: System {{ ansible_hostname }} mail test.

    - name: Debug systemd_results
      debug:
        var: systemd_results
